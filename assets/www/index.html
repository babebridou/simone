<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="libs/d3.v3.min.js"></script>
<script src="./libs/bean.js"></script>
<script src="./libs/jquery-2.0.3.js"></script>
<script src="./service/core.js"></script>
<script src="./service/app.js"></script>

<script src="./service/service.js"></script>
<script src="./indicators/sampleReport.js"></script>
<link href='http://fonts.googleapis.com/css?family=Oxygen:400,300,700' rel='stylesheet' type='text/css'>

<script>

	
	function initApp(){
		var uiScreen = $("<div>").attr("id","uiScreen").appendTo($("body"));
		var reportDiv = $("<div>").attr("id","report").appendTo(uiScreen);
		var authorizationToken = "Basic TlJKSGFjazp4NTJqU2g2VXIzUw==";
		
// 		EnergyHack.sample(function(data){
// 			var res = JSON.parse(data);
//  	   		console.debug("service called",res);
// 	   		var sampleReport = new SampleReport("report");
// 	   		sampleReport.setData(res);
// 	   	});
		
		EnergyHack.service({
			"jsonrpc":"2.0",
			"method":"energy",
			"params":[
			          {
			        	  "prog":"CERGY01",
			        	  "build":"BatimentB",
			        	  "lots":["B123"],
			        	  "ctx":"GLOBAL",
			        	  "types":["TEMPER"],
			        	  "ind":0,
			        	  "gran":"HOUR", //"LAST","DAY","MONTH","HOUR"
			        	  "begin":new Date().getTime()-24*60*60*1000,
			        	  "end":new Date().getTime(),
			        }],
			"id":"energyhack007"
		},function(data){
			var res = JSON.parse(data);
 	   		console.debug("service called",res);
	   		var sampleReport = new SampleReport("report");
	   		sampleReport.setData(res);
	   	});
		
		// var sampleReport = new SampleReport("report");
		// sampleReport.setData({});
	}

</script>
</head>
<body onLoad="initApp();">
	
</body>
</html>